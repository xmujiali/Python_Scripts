# 一、拓扑分析
通过以下命令
```
a-topo_analy.py
```
可以获得各异构体的顶点、边、环类型及数目。

# 二、半经验和DFT的几何优化
## 1、选择需要的异构体并进行半经验/DFT计算

运行
```
1-filter.py
bash run_opt.sh
```

它首先会打印出所有可选的筛选方案（ALL全选/GT某字段大于阈值/LT某字段小于阈值）
- 如果选择ALL，则考虑所有异构体
- 如果选择GT或者LT，则程序首先打印csv的数据的列名，待用户选择某个列后，再打印该列的统计摘要并提示用户输入阈值进行筛选。

选出的异构体会记录到isomers中，运行run_opt.sh即进行批量优化。

## 2、检查优化是否全部成功(半经验/DFT)
```
b2-opt_check.py
```
如果全部成功会给出提示。如果有部分失败的任务也会记录到opt_err中。

## 3 优化出错修复
运行
```
b3-opt_fix.py 
bash run_opt_fix.sh
b2-opt_check.py
```
针对上一步出错的问题，提供两种修复的方案：
一是更改routine section的内容
二是根据邻接表重建结构(可能CAGE给出的结构本身是错误的)
重算的任务将被汇总到run_opt_fix.sh中，
注意！完成后还要再次检验优化是否全部成功。

## 4 检验连接关系是否正确
运行
```
b4-adj_check.py 
```
通过读取优化后的结构，计算邻接矩阵（简单以距离最小的三个碳原子作为邻居），对比原始的邻接矩阵，如不相符则记录。
注意：如果结构出错必被记录。但被记录的异构体未必是错误的结构未必是错误的，可能只是因为距离略远，超出第三小导致的错误识别（常见于小环）。

## 5
运行
```
b5-adj_fix.py 
bash run_adj_fix.sh
b2-opt_check.py
```
由于被记录的异构体都由邻接表重新生成，只要计算通过表示所有所有异构体的结构都是正确的。

## 6、统计能量(半经验/DFT)

```
b6-summary.py
```
将为你统计相关的半经验计算结果






## 统计NLO计算结果

```
4-sum_nlo.py
```


